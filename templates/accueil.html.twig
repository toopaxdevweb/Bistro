{% extends 'base.html.twig' %}

{% block body %}
<div class='container'>
    <article class="patieBlog">
        
    </article>
    <article class="theme container text-center">
        <h5>Recette par Thématiques</h5>
            <div class="mt-3 d-flex justify-content-center flex-wrap" id="themeAccueil">
                <a href="/categorie/1"><div class="m-2 text-center"><i class="fa-solid fa-bowl-food fa-2xl mb-1 p-4"></i><p>Entrée</p></div></a>
                <a href="/categorie/2"><div class="m-2 text-center"><i class="fa-solid fa-drumstick-bite fa-2xl mb-1 p-4"></i><p>Plat</p></div></a>
                <a href="/categorie/3"><div class="m-2 text-center"><i class="fa-solid fa-cookie-bite fa-2xl mb-1 p-4"></i><p>Dessert</p></div></a>
                <a href="/categorie/4"><div class="m-2 text-center"><i class="fa-solid fa-martini-glass-citrus fa-2xl mb-1 p-4"></i><p>Apéritif</p></div></a>
                <a href="/categorie/5"><div class="m-2 text-center"><i class="fa-solid fa-jar fa-2xl mb-1 p-4"></i><p>Sauce</p></div></a>
            </div>
    </article>
    <article>
     

    <h5>Top recettes :</h5>
    <div class="d-flex flex-wrap justify-content-center">
        {% for recette in note %}
            <div class="card p-2 m-2 w-25 align-center" style="min-width:9em">
                <img src="{{ recette.image }}" alt="{{ recette.nom }}">
                <a href="/recettes/{{ recette.id }}"><h3 style="overflow:hidden; height:3.5em">{{ recette.nom }}</h3></a>
                <p>{{ averageNotes[recette.id]|number_format(1) }}</p>  
                <span class="toques-container">
               <span class="toques-container">
                    {% if averageNotes is not null %}
                        {% for i in 1..5 %}
                            {% if i <= averageNotes %}
                                <!-- Afficher la toque pleine -->
                                <svg class="toque-svg" viewBox="0 0 132.29167 132.29167" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m 41.941905,70.665874 1.759856,30.377296 h 41.943187 l 2.053163,-31.326583 c 0,0 19.850129,-1.848611 16.425309,-20.567965 C 101.35693,34.02761 80.248393,36.046995 80.248393,36.046995 c 0,0 -1.601431,-15.210223 -14.508909,-15.796617 -3.047555,-0.138452 -5.603464,0.828408 -7.717398,2.335283 -6.018121,4.289895 -8.454148,12.956467 -8.454148,12.956467 0,0 -23.825908,-2.910225 -24.051336,15.505074 -0.197572,16.139636 16.425303,19.618672 16.425303,19.618672 z" fill="#333333"/>
                                    </svg>
                            {% elseif i <= averageNotes + 0.5 %}
                                <!-- Afficher la toque demi -->
                                <svg class="toque-svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 132.3 132.3">
                                <path fill="#333" d="M56.4 20.5c-6.3 3.4-7.9 10-8.6 12.5-2.1-.2-6-.3-11 1a20 20 0 0 0-9.4 5.1A16.9 16.9 0 0 0 23 51a21 21 0 0 0 9 18c3 2.1 5.6 3 7.3 3.5l1.8 31H88l2-31.7c2-.3 5-1 8.5-3.2 5.1-3.2 10-9.7 8-19.9a17 17 0 0 0-5.7-10c-2.8-2.2-6-3.4-9-4.2a34 34 0 0 0-9.5-1c-.4-1.6-1-3.8-2.3-6.3-2-4-6-8.1-12.4-9.1-4.3-.1-6-.3-11.2 2.4zm11.2 2.3c3.2.7 6 3 8 6.7 1.8 3.4 2.2 6.8 2.2 6.8l.2 2.5 2.5-.3s5-.4 10 .8c2.6.7 5.2 1.7 7.1 3.4a11 11 0 0 1 4 6.9c1.6 8.5-1.8 12.3-5.7 14.7-4 2.5-8.4 3-8.4 3l-2.2.1-2 31.2H67.6Z" color="#333333" style="-inkscape-stroke:none"/>
                                </svg>
                            {% else %}
                            <!-- Afficher la toque vide -->
                                <svg class="toque-svg" viewBox="0 0 132.29167 132.29167" xmlns="http://www.w3.org/2000/svg"><path
                                        style="fill:none;fill-opacity:1;stroke:#333333;stroke-width:4.98493;stroke-dasharray:none;stroke-opacity:1"
                                        d="m 41.941905,70.665874 1.759856,30.377296 h 41.943187 l 2.053163,-31.326583 c 0,0 19.850129,-1.848611 16.425309,-20.567965 C 101.35693,34.02761 80.248393,36.046995 80.248393,36.046995 c 0,0 -1.601431,-15.210224 -14.508909,-15.796617 -11.723586,-0.532609 -16.171546,15.29175 -16.171546,15.29175 0,0 -23.825908,-2.910225 -24.051336,15.505074 -0.197572,16.139636 16.425303,19.618672 16.425303,19.618672 z"/></g></svg>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                </span>
            </div>
        {% endfor %}
        </div>
    </article>
    <article>
    <h5>Dernières Recettes:</h5>
    <div class="d-flex flex-wrap justify-content-center">
    {% for recette in recettes %}
        <div class="card p-2 m-2 w-25 align-center" style="min-width:9em">
            <img src="{{ recette.image }}" alt="{{ recette.nom }}">
            <a href="/recettes/{{ recette.id }}"><h3 style="overflow:hidden; height:3.5em">{{ recette.nom }}</h3></a>
            <p>{{ averageNotes[recette.id]|number_format(1) }}</p>  
            <span class="toques-container">
                            {% if averageNotes is not null %}
                                {% for i in 1..5 %}
                                    {% if i <= averageNotes %}
                                       <!-- Afficher la toque pleine -->
                                        <svg class="toque-svg" viewBox="0 0 132.29167 132.29167" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m 41.941905,70.665874 1.759856,30.377296 h 41.943187 l 2.053163,-31.326583 c 0,0 19.850129,-1.848611 16.425309,-20.567965 C 101.35693,34.02761 80.248393,36.046995 80.248393,36.046995 c 0,0 -1.601431,-15.210223 -14.508909,-15.796617 -3.047555,-0.138452 -5.603464,0.828408 -7.717398,2.335283 -6.018121,4.289895 -8.454148,12.956467 -8.454148,12.956467 0,0 -23.825908,-2.910225 -24.051336,15.505074 -0.197572,16.139636 16.425303,19.618672 16.425303,19.618672 z" fill="#333333"/>
                                            </svg>
                                    {% elseif i <= averageNotes + 0.5 %}
                                        <!-- Afficher la toque demi -->
                                        <svg class="toque-svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 132.3 132.3">
                                        <path fill="#333" d="M56.4 20.5c-6.3 3.4-7.9 10-8.6 12.5-2.1-.2-6-.3-11 1a20 20 0 0 0-9.4 5.1A16.9 16.9 0 0 0 23 51a21 21 0 0 0 9 18c3 2.1 5.6 3 7.3 3.5l1.8 31H88l2-31.7c2-.3 5-1 8.5-3.2 5.1-3.2 10-9.7 8-19.9a17 17 0 0 0-5.7-10c-2.8-2.2-6-3.4-9-4.2a34 34 0 0 0-9.5-1c-.4-1.6-1-3.8-2.3-6.3-2-4-6-8.1-12.4-9.1-4.3-.1-6-.3-11.2 2.4zm11.2 2.3c3.2.7 6 3 8 6.7 1.8 3.4 2.2 6.8 2.2 6.8l.2 2.5 2.5-.3s5-.4 10 .8c2.6.7 5.2 1.7 7.1 3.4a11 11 0 0 1 4 6.9c1.6 8.5-1.8 12.3-5.7 14.7-4 2.5-8.4 3-8.4 3l-2.2.1-2 31.2H67.6Z" color="#333333" style="-inkscape-stroke:none"/>
                                        </svg>
                                    {% else %}
                                    <!-- Afficher la toque vide -->
                                        <svg class="toque-svg" viewBox="0 0 132.29167 132.29167" xmlns="http://www.w3.org/2000/svg"><path
                                                style="fill:none;fill-opacity:1;stroke:#333333;stroke-width:4.98493;stroke-dasharray:none;stroke-opacity:1"
                                                d="m 41.941905,70.665874 1.759856,30.377296 h 41.943187 l 2.053163,-31.326583 c 0,0 19.850129,-1.848611 16.425309,-20.567965 C 101.35693,34.02761 80.248393,36.046995 80.248393,36.046995 c 0,0 -1.601431,-15.210224 -14.508909,-15.796617 -11.723586,-0.532609 -16.171546,15.29175 -16.171546,15.29175 0,0 -23.825908,-2.910225 -24.051336,15.505074 -0.197572,16.139636 16.425303,19.618672 16.425303,19.618672 z"/></g></svg>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        </span>
        </div>
    {% endfor %}
    </div>
    </article>
</div>
{% endblock %}